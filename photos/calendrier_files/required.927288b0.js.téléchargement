(window.webpackJsonp=window.webpackJsonp||[]).push([["required"],{tkts:function(e,t,n){"use strict";function a(e){return null==e?null:3!=e.split("/").length?(console.log("Invalid ddmmyyyy date: "+e),null):e.split("/").reverse().join("/")}function r(e,t){return Math.round(Math.abs((e.getTime()-t.getTime())/864e5))}function o(e){return new Date(e.toDateString())<new Date((new Date).toDateString())}function i(e){return new Date(e.toDateString())>=new Date((new Date).toDateString())}n.d(t,"d",(function(){return a})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}))},wZFW:function(e,t,n){"use strict";n.r(t);var a=n("tkts");function r(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,o;return t=e,o=[{key:"areValidDates",value:function(t,n){if(void 0===t&&void 0===n)return!1;if(null===t&&null===n)return!0;t=Object(a.d)(t),n=Object(a.d)(n);var r=e.isValidDate(t,!0)&&e.isValidDate(n,!0)&&new Date(n)>new Date(t);return r||console.log("Invalid dates pair: "+t+" | "+n),r}},{key:"isValidDate",value:function(e,t){t||(e=Object(a.d)(e));var n=!isNaN(new Date(e))&&Object(a.b)(new Date(e));return n||console.log("Invalid date: "+e),n}},{key:"isValidNbPers",value:function(e){var t=!isNaN(e);return t||console.log("Invalid number persons: "+e),t}},{key:"isValidAccommodationType",value:function(e){var t=!0;return-1==s.indexOf(e)&&(t=!1),t||console.log("Invalid accommodation type: "+e),t}}],(n=null)&&r(t.prototype,n),o&&r(t,o),e}();function i(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var s=["location","camping"],l=function(){function e(t,n,a,r,o,i,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.version=i,this.startDate=t,this.endDate=n,this.nbPers=a,this.lastUpdate=o,this.accommodationType=r,this.useFidPoints=s}var t,n,r;return t=e,(n=[{key:"isFresh",value:function(){return!(2!=this.version||(new Date).setHours(0,0,0,0)>this.lastUpdate+6912e5||null!==this.startDate&&Object(a.c)(new Date(Object(a.d)(this.startDate))))}},{key:"isValid",value:function(){return o.areValidDates(this.startDate,this.endDate)&&o.isValidNbPers(this.nbPers)&&o.isValidAccommodationType(this.accommodationType)}},{key:"getDuration",value:function(){return Object(a.a)(new Date(Object(a.d)(this.startDate)),new Date(Object(a.d)(this.endDate)))}},{key:"isEqualTo",value:function(e){return this.startDate==e.startDate&&this.endDate==e.endDate&&this.nbPers==e.nbPers&&this.nbPers==e.nbPers&&this.accommodationType==e.accommodationType&&this.useFidPoints==e.useFidPoints}}])&&i(t.prototype,n),r&&i(t,r),e}(),u=new l(null,null,2,"location",(new Date).getTime(),2,!1);window.SearchData=l;function c(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function d(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var a=t[n].split("=");if(decodeURIComponent(a[0])==e)return decodeURIComponent(a[1])}return!1}var f=null,h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"fromJson",value:function(e){var t=JSON.parse(e),n=new l;return n.version=t.version,n.startDate=t.startDate,n.endDate=t.endDate,n.nbPers=t.nbPers,n.lastUpdate=t.lastUpdate,n.accommodationType=t.accommodationType,n.useFidPoints=t.useFidPoints,n}},{key:"fromLocalStorage",value:function(){try{if(null===localStorage.getItem("bt_search_data"))return e.getDefaultSearchData();var t=localStorage.getItem("bt_search_data");return e.fromJson(t)}catch(t){return console.log(t),e.getDefaultSearchData()}}},{key:"fromQuery",value:function(){var t=function(e){return"availability_search["+e+"]"},n=d(t("type")),a=d(t("start")),r=d(t("end")),o=d(t("nb_people")),i=d(t("use_fid_points"));if(n&&a&&r&&o){var s=new l(a,r,o,n,(new Date).getTime(),u.version,i||!1);return s.isEqualTo(e.fromLocalStorage())||e.toLocalStorage(s),s}return null}},{key:"fromFragmentIdentifier",value:function(){if(window.location.hash){var t=window.location.hash.substr(1),n=t.split("&");if(-1!==t.indexOf("=")){var a=e.getDefaultSearchData();return n.forEach((function(e){var t=e.split("=");if(2===t.length)switch(t[0]){case"start_date":a.startDate=t[1];break;case"end_date":a.endDate=t[1];break;case"type":a.accommodationType=t[1];break;case"nb_pers":a.nbPers=t[1]}})),e.toLocalStorage(a),a}return null}return null}},{key:"toLocalStorage",value:function(e){try{e.lastUpdate=(new Date).getTime();var t=JSON.stringify(e);localStorage.setItem("bt_search_data",t),f=e}catch(e){console.log(e)}}},{key:"getDefaultSearchData",value:function(){return u}},{key:"getValidSearchData",value:function(){if(null!=f)return f;var t=e.fromQuery();return null===t&&(t=e.fromFragmentIdentifier()),null===t&&(t=e.fromLocalStorage()),f=t.isFresh()&&t.isValid()?t:e.getDefaultSearchData()}}],(n=null)&&c(t.prototype,n),a&&c(t,a),e}();window.SearchDataStore=h}},[["wZFW","runtime"]]]);